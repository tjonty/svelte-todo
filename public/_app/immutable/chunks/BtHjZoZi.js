import{N as m,V as o,X as I,O as A,Y as R,Z as S,_ as U,$ as v,a0 as h,Q as p,a1 as g,U as D,W as O,a2 as x,a3 as F,R as y,m as L,a4 as Y,a5 as Z,i as $,j}from"./CaA2cR5q.js";function q(a,s,n=!1){o&&I();var e=a,r=null,i=null,u=D,N=n?A:0,l=!1;const T=(c,t=!0)=>{l=!0,b(t,c)},b=(c,t)=>{if(u===(u=c))return;let d=!1;if(o){const E=e.data===R;!!u===E&&(e=S(),U(e),v(!1),d=!0)}u?(r?h(r):t&&(r=p(()=>t(e))),i&&g(i,()=>{i=null})):(i?h(i):t&&(i=p(()=>t(e))),r&&g(r,()=>{r=null})),d&&v(!0)};m(()=>{l=!1,s(T),l||b(null,null)},N),o&&(e=O)}let f=!1,_=Symbol();function w(a,s,n){const e=n[s]??(n[s]={store:null,source:L(void 0),unsubscribe:y});if(e.store!==a&&!(_ in n))if(e.unsubscribe(),e.store=a??null,a==null)e.source.v=void 0,e.unsubscribe=y;else{var r=!0;e.unsubscribe=Y(a,i=>{r?e.source.v=i:j(e.source,i)}),r=!1}return a&&_ in n?Z(a):$(e.source)}function C(){const a={};function s(){x(()=>{for(var n in a)a[n].unsubscribe();F(a,_,{enumerable:!1,value:!0})})}return[a,s]}function H(a){var s=f;try{return f=!1,[a(),f]}finally{f=s}}export{w as a,H as c,q as i,C as s};
