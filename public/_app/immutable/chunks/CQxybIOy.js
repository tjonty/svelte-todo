import{K as m,R as o,V as I,M as A,W as R,X as S,Y as U,Z as v,_ as h,N as p,$ as g,U as D,T as O,a0 as x,a1 as F,O as y,m as L,a2 as M,a3 as Y,b as Z,c as $}from"./Dht8psup.js";function q(s,a,n=!1){o&&I();var e=s,r=null,t=null,i=D,T=n?A:0,l=!1;const N=(c,u=!0)=>{l=!0,b(u,c)},b=(c,u)=>{if(i===(i=c))return;let d=!1;if(o){const E=e.data===R;!!i===E&&(e=S(),U(e),v(!1),d=!0)}i?(r?h(r):u&&(r=p(()=>u(e))),t&&g(t,()=>{t=null})):(t?h(t):u&&(t=p(()=>u(e))),r&&g(r,()=>{r=null})),d&&v(!0)};m(()=>{l=!1,a(N),l||b(null,null)},T),o&&(e=O)}let f=!1,_=Symbol();function w(s,a,n){const e=n[a]??(n[a]={store:null,source:L(void 0),unsubscribe:y});if(e.store!==s&&!(_ in n))if(e.unsubscribe(),e.store=s??null,s==null)e.source.v=void 0,e.unsubscribe=y;else{var r=!0;e.unsubscribe=M(s,t=>{r?e.source.v=t:$(e.source,t)}),r=!1}return s&&_ in n?Y(s):Z(e.source)}function C(){const s={};function a(){x(()=>{for(var n in s)s[n].unsubscribe();F(s,_,{enumerable:!1,value:!0})})}return[s,a]}function H(s){var a=f;try{return f=!1,[s(),f]}finally{f=a}}export{w as a,H as c,q as i,C as s};
