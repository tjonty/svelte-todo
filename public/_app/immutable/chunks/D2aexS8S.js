import{m,v as o,W as I,E as A,X as S,Y as R,Z as U,_ as v,$ as h,n as p,a0 as g,U as D,w,a1 as x,a2 as C,o as y,N as F,a3 as L,a4 as O,h as Y,C as Z}from"./B8YfBEVM.js";function k(a,s,n=!1){o&&I();var e=a,r=null,t=null,i=D,E=n?A:0,l=!1;const N=(c,u=!0)=>{l=!0,b(u,c)},b=(c,u)=>{if(i===(i=c))return;let d=!1;if(o){const T=e.data===S;!!i===T&&(e=R(),U(e),v(!1),d=!0)}i?(r?h(r):u&&(r=p(()=>u(e))),t&&g(t,()=>{t=null})):(t?h(t):u&&(t=p(()=>u(e))),r&&g(r,()=>{r=null})),d&&v(!0)};m(()=>{l=!1,s(N),l||b(null,null)},E),o&&(e=w)}let f=!1,_=Symbol();function q(a,s,n){const e=n[s]??(n[s]={store:null,source:F(void 0),unsubscribe:y});if(e.store!==a&&!(_ in n))if(e.unsubscribe(),e.store=a??null,a==null)e.source.v=void 0,e.unsubscribe=y;else{var r=!0;e.unsubscribe=L(a,t=>{r?e.source.v=t:Z(e.source,t)}),r=!1}return a&&_ in n?O(a):Y(e.source)}function H(){const a={};function s(){x(()=>{for(var n in a)a[n].unsubscribe();C(a,_,{enumerable:!1,value:!0})})}return[a,s]}function M(a){var s=f;try{return f=!1,[a(),f]}finally{f=s}}export{q as a,M as c,k as i,H as s};
