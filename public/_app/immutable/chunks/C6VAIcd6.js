import{g as q,p as B,L as Y,d as L,a as M,P as N,s as U,b as l,c as x,m as C,u as O,e as G,S as $,f as j,l as p,h as w,i as z,j as V}from"./Dht8psup.js";import{p as Z}from"./BlrLVMO9.js";import{c as y}from"./CQxybIOy.js";function K(r,a,f,v){var A;var E=(f&z)!==0,d=!p||(f&w)!==0,c=(f&G)!==0,h=(f&V)!==0,R=!1,u;c?[u,R]=y(()=>r[a]):u=r[a];var D=$ in r||j in r,s=c&&(((A=q(r,a))==null?void 0:A.set)??(D&&a in r&&(e=>r[a]=e)))||void 0,n=v,P=!0,S=!1,b=()=>(S=!0,P&&(P=!1,h?n=O(v):n=v),n);u===void 0&&v!==void 0&&(s&&d&&B(),u=b(),s&&s(u));var i;if(d)i=()=>{var e=r[a];return e===void 0?b():(P=!0,S=!1,e)};else{var g=(E?L:M)(()=>r[a]);g.f|=Y,i=()=>{var e=l(g);return e!==void 0&&(n=void 0),e===void 0?n:e}}if(!(f&N))return i;if(s){var T=r.$$legacy;return function(e,t){return arguments.length>0?((!d||!t||T||R)&&s(t?i():e),e):i()}}var m=!1,o=C(u),_=L(()=>{var e=i(),t=l(o);return m?(m=!1,t):o.v=e});return E||(_.equals=U),function(e,t){if(arguments.length>0){const I=t?l(_):d&&c?Z(e):e;return _.equals(I)||(m=!0,x(o,I),S&&n!==void 0&&(n=I),O(()=>l(_))),e}return l(_)}}export{K as p};
